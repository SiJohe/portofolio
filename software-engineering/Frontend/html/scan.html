<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eco Cycle - Scan Sampah</title>

  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/scan-style.css" />

  <!-- Material Symbols (kalau sudah dipakai di index, boleh dihapus di sini) -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  <script src="../js/navbar.js" defer></script>
  <script src="../js/scan.js" defer></script>
</head>
<body data-page="Scan">
  <div class="app">

    <!-- HERO SCAN -->
    <header class="hero hero-scan">
        <div class="hero-overlay"></div>

        <div class="hero-content">
            <!-- Tombol back -->
            <button class="back-button" id="btn-back">
            <span class="material-symbols-outlined">arrow_back</span>
            </button>

            <!-- Judul tengah -->
            <h1 class="scan-title">AYO SCAN!</h1>

            <!-- Spacer kanan (sama ukuran dengan back button) -->
            <div class="hero-spacer"></div>
        </div>
    </header>


    <!-- KONTEN SCAN -->
    <main class="scan-main">
      <!-- area kamera / preview -->
        <section class="scan-preview-section">
            <div class="scan-preview-wrapper">
                <video id="camera-preview" autoplay playsinline class="scan-video"></video>
                <img id="image-preview" class="scan-image hidden" alt="Preview gambar" />
                <div class="scan-frame"></div>

                <!-- kontrol di dalam preview -->
                <div class="scan-controls">
                    <!-- SLOT KIRI: tombol dummy transparan -->
                    <button class="scan-btn-empty" aria-hidden="true" tabindex="-1"></button>

                    <!-- SLOT TENGAH: shutter -->
                    <button class="scan-btn-primary" id="btn-capture" aria-label="Ambil foto">
                        <span class="material-symbols-outlined">photo_camera</span>
                    </button>

                    <!-- SLOT KANAN: galeri -->
                    <button class="scan-btn-gallery" id="btn-gallery" aria-label="Pilih dari galeri">
                        <span class="material-symbols-outlined">photo_library</span>
                    </button>

                    <input type="file" id="file-input" accept="image/*" hidden />
                </div>
            </div>
        </section>

      <!-- tombol lokasi terdekat -->
      <section class="scan-location-section">
        <div class="location-card" id="btn-maps">
            <div class="location-left">
                <span class="material-symbols-outlined location-icon">location_on</span>
                <p class="location-title">Lokasi Pembuangan Terdekat</p>
            </div>

            <span class="material-symbols-outlined location-arrow">chevron_right</span>
        </div>
      </section>
    </main>

    <div id="nav-root"></div>

    <!-- MODAL HASIL PREDIKSI -->
    <div class="scan-modal-backdrop hidden" id="result-modal">
      <div class="scan-modal">
        <p class="modal-title" id="modal-title">Sampah Tersebut merupakan sampah Plastik</p>
        <p class="modal-subtitle" id="modal-subtitle">Lihat detailnya</p>
        <button class="modal-btn" id="modal-continue">Continue</button>
      </div>
    </div>

  </div>
</body>
</html>
